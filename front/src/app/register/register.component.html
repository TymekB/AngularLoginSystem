<div class="row">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
        <div class="card">

            <div class="card-body">

                <h2>Register</h2>
                <hr>

                <form (ngSubmit)="onSubmit()" [formGroup]="registerForm">
                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1"><i class="icon-user"></i></span>
                        </div>
                        <input formControlName="username" id="username" name="username" type="text" class="form-control" placeholder="Username" aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>

                    <div *ngIf="username.touched && !username.valid" class="alert alert-danger">
                        <div *ngIf="username.hasError('required')">
                            Username is required.
                        </div>

                        <div *ngIf="username.hasError('minlength') || username.hasError('maxlength')">
                            Username must be between 4 and 20 characters.
                        </div>

                        <div *ngIf="username.hasError('pattern')">
                            Username cannot contain alphanumeric characters.
                        </div>

                        <div *ngIf="username.hasError('usernameTaken')">
                            Username is taken.
                        </div>
                    </div>

                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon2"><i class="icon-mail-alt"></i></span>
                        </div>
                        <input formControlName="email" type="email" class="form-control" placeholder="Email" aria-label="Email"
                               aria-describedby="basic-addon2">
                    </div>

                    <div *ngIf="email.touched && !email.valid" class="alert alert-danger">
                        <div *ngIf="email.hasError('required')">
                            Email is required.
                        </div>

                        <div *ngIf="email.hasError('email')">
                            Email is not valid.
                        </div>

                        <div *ngIf="email.hasError('emailTaken')">
                            Account with this email already exists.
                        </div>
                    </div>

                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon3"><i class="icon-key"></i></span>
                        </div>
                        <input formControlName="password" type="password" class="form-control" placeholder="Password" aria-label="Password"
                               aria-describedby="basic-addon3">
                    </div>

                    <div *ngIf="password.touched && !password.valid" class="alert alert-danger">
                        <div *ngIf="password.hasError('required')">
                            Password is required.
                        </div>

                        <div *ngIf="password.hasError('minlength')|| password.hasError('maxlength')">
                            Password must be between 8 and 20 characters.
                        </div>
                    </div>

                    <div class="input-group form-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon43"><i class="icon-key"></i></span>
                        </div>
                        <input formControlName="repeatPassword" type="password" class="form-control" placeholder="Repeat password" aria-label="Repeat password"
                               aria-describedby="basic-addon4" pattern="{{ password.value }}">
                    </div>

                    <div *ngIf="repeatPassword.touched && !repeatPassword.valid" class="alert alert-danger">

                        <div *ngIf="repeatPassword.hasError('required')">
                            You must repeat your password
                        </div>

                        <div *ngIf="repeatPassword.hasError('pattern')">
                            Password are not the same.
                        </div>
                    </div>

                    <button class="btn btn-success" [disabled]="!registerForm.valid">Create account</button>

                </form>
            </div>
        </div>
    </div>
</div>

